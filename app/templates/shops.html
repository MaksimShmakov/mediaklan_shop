{% extends "base.html" %}

{% block body_class %}auth auth--shops{% endblock %}

{% block content %}
<section class="auth-shell shop-shell">
  <div class="auth-board">
    <div class="auth-stage">
      <div class="auth-topbar">
        <div class="auth-brand">
          <img class="auth-brand__logo" src="/static/img/logo-acc-2.svg" alt="EL" />
          <span class="auth-brand__name">Медийный клан</span>
          <span class="auth-brand__pill">SHOP</span>
        </div>
      </div>

      <div class="shop-panel">
        <div class="shop-hero">
          <img class="shop-hero__headline" src="/static/img/common/thetext.png" alt="Добро пожаловать в магазин Медийного Клана!" />
        </div>

        <div class="shop-grid">
          {% for shop_type in ["regular", "premium"] %}
          {% set state = status_map[shop_type] %}
          <article class="shop-tile {{ 'shop-tile--regular' if shop_type == 'regular' else 'shop-tile--premium' }}">
            <div class="shop-tile__surface">
              <div class="shop-tile__brand">
                {% if shop_type == "regular" %}
                <span class="shop-tile__brand-main">MK</span>
                <span class="shop-tile__brand-script">Shop</span>
                {% else %}
                <span class="shop-tile__brand-main">PREMIUM</span>
                <span class="shop-tile__brand-script">Shop</span>
                {% endif %}
              </div>

              <div class="shop-tile__time">
                <span class="shop-tile__label">Время открытия:</span>
                <span class="shop-tile__time-pill">
                  {% if state.opens_at %}
                  {{ state.opens_at.strftime('%d.%m %H:%M') }}
                  {% else %}
                  скоро
                  {% endif %}
                </span>
              </div>

              <div class="shop-tile__status">
                {% if state.allowed %}
                <a class="shop-pill shop-pill--open" href="/shop/{{ shop_type }}">Доступ открыт</a>
                {% else %}
                <span class="shop-pill shop-pill--closed">Доступ закрыт</span>
                {% endif %}
              </div>
            </div>
          </article>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
